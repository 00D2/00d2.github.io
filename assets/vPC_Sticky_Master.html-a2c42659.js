const e=JSON.parse('{"key":"v-430c992d","path":"/network/cisco/nexus_vPC/vPC_Sticky_Master.html","title":"Cisco Nexus vPC 之 Sticky Master","lang":"zh-CN","frontmatter":{"index":112,"icon":"cisco","author":"Cisco","title":"Cisco Nexus vPC 之 Sticky Master","date":"2022-05-14T00:00:00.000Z","category":["网络","交换机"],"tag":["思科","Nexus","vPC"]},"headers":[],"git":{"createdTime":1652604696000,"updatedTime":1658034353000,"contributors":[{"name":"00D2","email":"shijinguosjg@gmail.com","commits":6}]},"readingTime":{"minutes":2.69,"words":806},"localizedDate":"2022年5月14日","filePathRelative":"network/cisco/nexus_vPC/vPC_Sticky_Master.md","excerpt":"<p>** 场景</p>\\n<p>生产环境里，我们经常把其中的一台Nexus交换机从vPC domain中独立出来，比如升级或灾备演练等情况。但是其中一个细节即Sticky Master的状态很少有人会注意到，因此这可能导致网络中断。</p>\\n<p>在vPC环境中，两台vPC会进行role选举，通过优先级配置，假设N7K-1为primary，N7K-2为secondary。</p>\\n<p>**步骤一\\n**</p>\\n<p>当我们把N7K-2从vPC环境中独立出来，即断掉N7K-2的peer-link、keepalive以及所有上下行接口。这时候两台设备处于双活状态，N7K-1为primary，N7K-2为secondary，operational primary。\\n当然由于N7K-2并未接入网络，网络也没有任何影响。</p>"}');export{e as data};
