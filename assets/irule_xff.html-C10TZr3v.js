import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as e,a,o as l}from"./app-WNqn1Zl1.js";const n={};function t(r,i){return l(),e("div",null,i[0]||(i[0]=[a(`<blockquote><p>部分HTTP报文，没有cookie内容，但又需要实现会话保持。<br> 在直接访问到具体真实服务器的时候，可以通过源地址会话保持方式来实现。<br> 但如果服务前面还部署了SSL加密设备，因为SSL加密设备数量一般较少，如果此时还通过源地址来实现会话保持，往往会造成负载不均衡。</p></blockquote><h2 id="创建基于http报文中xff字段来实现会话保持的irule" tabindex="-1"><a class="header-anchor" href="#创建基于http报文中xff字段来实现会话保持的irule"><span>创建基于HTTP报文中XFF字段来实现会话保持的irule</span></a></h2><div class="language-tcl line-numbers-mode" data-highlighter="shiki" data-ext="tcl" data-title="tcl" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">when HTTP_REQUEST {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> { [HTTP::header exists X-Forwarded-For] }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{ persist uie [HTTP::header X-Forwarded-For] </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">28800</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="在vs调用" tabindex="-1"><a class="header-anchor" href="#在vs调用"><span>在VS调用</span></a></h2>`,4)]))}const p=s(n,[["render",t],["__file","irule_xff.html.vue"]]),k=JSON.parse('{"path":"/network/f5/irule/irule_xff.html","title":"基于XFF的地址进行会话保持","lang":"zh-CN","frontmatter":{"icon":"f5","title":"基于XFF的地址进行会话保持","author":"小苹果儿","date":"2024-11-03T00:00:00.000Z","category":["网络"],"tag":["f5","irule"]},"headers":[{"level":2,"title":"创建基于HTTP报文中XFF字段来实现会话保持的irule","slug":"创建基于http报文中xff字段来实现会话保持的irule","link":"#创建基于http报文中xff字段来实现会话保持的irule","children":[]},{"level":2,"title":"在VS调用","slug":"在vs调用","link":"#在vs调用","children":[]}],"git":{"createdTime":1730613945000,"updatedTime":1730613945000,"contributors":[{"name":"00D2","username":"00D2","email":"shijinguosjg@gmail.com","commits":1,"url":"https://github.com/00D2"}]},"readingTime":{"minutes":0.6,"words":180},"filePathRelative":"network/f5/irule/irule_xff.md","localizedDate":"2024年11月3日","excerpt":"<blockquote>\\n<p>部分HTTP报文，没有cookie内容，但又需要实现会话保持。<br>\\n在直接访问到具体真实服务器的时候，可以通过源地址会话保持方式来实现。<br>\\n但如果服务前面还部署了SSL加密设备，因为SSL加密设备数量一般较少，如果此时还通过源地址来实现会话保持，往往会造成负载不均衡。</p>\\n</blockquote>\\n<h2>创建基于HTTP报文中XFF字段来实现会话保持的irule</h2>\\n<div class=\\"language-tcl line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"tcl\\" data-title=\\"tcl\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">when HTTP_REQUEST {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#A626A4;--shiki-dark:#C678DD\\"> if</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\"> { [HTTP::header exists X-Forwarded-For] }</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">{ persist uie [HTTP::header X-Forwarded-For] </span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\">28800</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\"> }</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">}</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>"}');export{p as comp,k as data};
