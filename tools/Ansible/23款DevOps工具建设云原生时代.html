<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.49" />
    <meta name="theme" content="VuePress Theme Hope" />
    <link rel="stylesheet" href="//at.alicdn.com/t/font_2410206_mfj6e1vbwo.css"><link rel="stylesheet" href="//at.alicdn.com/t/c/font_3419447_qfnbublqp7.css"><title>23 款 DevOps 工具建设云原生时代 | 紫苹果乐园</title><meta name="description" content="学习、记录、分享，知识无尽头">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background-color: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="stylesheet" href="/assets/style.4cc4d99d.css">
    <link rel="modulepreload" href="/assets/app.96094d91.js"><link rel="modulepreload" href="/assets/23款DevOps工具建设云原生时代.html.55ba891a.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper.21dcd24c.js"><link rel="modulepreload" href="/assets/23款DevOps工具建设云原生时代.html.83e1aa19.js"><link rel="prefetch" href="/assets/index.html.d5c353d8.js"><link rel="prefetch" href="/assets/blog.html.05246366.js"><link rel="prefetch" href="/assets/slide.html.250448e7.js"><link rel="prefetch" href="/assets/index.html.7b596a74.js"><link rel="prefetch" href="/assets/update.html.b30a987f.js"><link rel="prefetch" href="/assets/index.html.18196a15.js"><link rel="prefetch" href="/assets/index.html.1ab2a9ec.js"><link rel="prefetch" href="/assets/awesomeTools.html.923bbeb0.js"><link rel="prefetch" href="/assets/index.html.914a9586.js"><link rel="prefetch" href="/assets/DAD.html.fee4f407.js"><link rel="prefetch" href="/assets/index.html.8ee610f5.js"><link rel="prefetch" href="/assets/index.html.53ef909b.js"><link rel="prefetch" href="/assets/Http头部HOST为空Nginx返回400错误.html.84edcfa1.js"><link rel="prefetch" href="/assets/index.html.c453f0b1.js"><link rel="prefetch" href="/assets/f5限制部分源IP访问VS.html.e04bdf28.js"><link rel="prefetch" href="/assets/irule_tuxedo.html.bbf623f5.js"><link rel="prefetch" href="/assets/Http头部HOST为空Nginx返回400错误.html.d41c429c.js"><link rel="prefetch" href="/assets/index.html.85d6893f.js"><link rel="prefetch" href="/assets/f5限制部分源IP访问VS.html.4d2df7dc.js"><link rel="prefetch" href="/assets/opticalFiber.html.788aa431.js"><link rel="prefetch" href="/assets/index.html.e8a2faef.js"><link rel="prefetch" href="/assets/config.html.97a6287a.js"><link rel="prefetch" href="/assets/index.html.d865cb56.js"><link rel="prefetch" href="/assets/ecs.html.019ebcaa.js"><link rel="prefetch" href="/assets/multiDnsServer.html.e61f2025.js"><link rel="prefetch" href="/assets/浏览器DNS缓存.html.32d1bb30.js"><link rel="prefetch" href="/assets/DNF.html.9ea4d04b.js"><link rel="prefetch" href="/assets/index.html.8e80f7f0.js"><link rel="prefetch" href="/assets/Shell命令.html.7a4d8478.js"><link rel="prefetch" href="/assets/YUM.html.fe9d546b.js"><link rel="prefetch" href="/assets/archive.html.9909ecba.js"><link rel="prefetch" href="/assets/filePermissions.html.0762db0d.js"><link rel="prefetch" href="/assets/fileSearch.html.50a1c788.js"><link rel="prefetch" href="/assets/fileSystem.html.ca56f11b.js"><link rel="prefetch" href="/assets/fileTypes.html.1769fb73.js"><link rel="prefetch" href="/assets/mirros.Tsinghua.html.e4178646.js"><link rel="prefetch" href="/assets/nic.html.8fcc0e11.js"><link rel="prefetch" href="/assets/ssh_sftp.html.f3b1c7fb.js"><link rel="prefetch" href="/assets/vim.html.43f67193.js"><link rel="prefetch" href="/assets/免密登录.html.7c2023df.js"><link rel="prefetch" href="/assets/重置root密码.html.7a54cfe0.js"><link rel="prefetch" href="/assets/index.html.30e1b19f.js"><link rel="prefetch" href="/assets/Windows10本地硬盘变成了可弹出磁盘.html.c2b8aab4.js"><link rel="prefetch" href="/assets/index.html.555741b8.js"><link rel="prefetch" href="/assets/shell.html.3f3d2896.js"><link rel="prefetch" href="/assets/一文掌握 Ansible 自动化运维.html.4192f501.js"><link rel="prefetch" href="/assets/index.html.e6bb88b2.js"><link rel="prefetch" href="/assets/Traefik使用教程.html.64166e4b.js"><link rel="prefetch" href="/assets/awesomeDocker.html.90a435ce.js"><link rel="prefetch" href="/assets/dockerImageExportAndImport.html.bb802959.js"><link rel="prefetch" href="/assets/whatIsDocker.html.2dae8901.js"><link rel="prefetch" href="/assets/index.html.ad325c34.js"><link rel="prefetch" href="/assets/git_cmd中文乱码.html.2e2f1101.js"><link rel="prefetch" href="/assets/git上传文件.html.2bce0617.js"><link rel="prefetch" href="/assets/git修改远程仓库.html.eb04d5e8.js"><link rel="prefetch" href="/assets/git报ssl错误解决方法.html.0e06ee31.js"><link rel="prefetch" href="/assets/git的配置文件.html.31acadb4.js"><link rel="prefetch" href="/assets/index.html.52c00b13.js"><link rel="prefetch" href="/assets/index.html.0aafc7af.js"><link rel="prefetch" href="/assets/index.html.8ca2127a.js"><link rel="prefetch" href="/assets/index.html.3b2642ef.js"><link rel="prefetch" href="/assets/vPC_Sticky_Master.html.d847ddbd.js"><link rel="prefetch" href="/assets/vpcAutoRecoveryConfiguration.html.b2edec13.js"><link rel="prefetch" href="/assets/index.html.65ab1098.js"><link rel="prefetch" href="/assets/aptSource.html.97b1e754.js"><link rel="prefetch" href="/assets/modifyNetwork.html.10d67264.js"><link rel="prefetch" href="/assets/404.html.82bd4b1a.js"><link rel="prefetch" href="/assets/index.html.2f713335.js"><link rel="prefetch" href="/assets/index.html.1a811f74.js"><link rel="prefetch" href="/assets/index.html.79fe6d6e.js"><link rel="prefetch" href="/assets/index.html.dcd15e89.js"><link rel="prefetch" href="/assets/index.html.e8952663.js"><link rel="prefetch" href="/assets/index.html.5ad7ff00.js"><link rel="prefetch" href="/assets/index.html.92637d35.js"><link rel="prefetch" href="/assets/index.html.cd926118.js"><link rel="prefetch" href="/assets/index.html.c7ef1d4e.js"><link rel="prefetch" href="/assets/index.html.51f17b38.js"><link rel="prefetch" href="/assets/index.html.dce648ee.js"><link rel="prefetch" href="/assets/index.html.3c78d45b.js"><link rel="prefetch" href="/assets/index.html.f32d547d.js"><link rel="prefetch" href="/assets/index.html.5c2b25a2.js"><link rel="prefetch" href="/assets/index.html.0bb0f09c.js"><link rel="prefetch" href="/assets/index.html.cf774677.js"><link rel="prefetch" href="/assets/index.html.e03c52b2.js"><link rel="prefetch" href="/assets/index.html.6c98e70c.js"><link rel="prefetch" href="/assets/index.html.a99841ed.js"><link rel="prefetch" href="/assets/index.html.53be6eb1.js"><link rel="prefetch" href="/assets/index.html.20ea222d.js"><link rel="prefetch" href="/assets/index.html.fd175e1b.js"><link rel="prefetch" href="/assets/index.html.82cc37ed.js"><link rel="prefetch" href="/assets/index.html.200b06d4.js"><link rel="prefetch" href="/assets/index.html.3c97e63a.js"><link rel="prefetch" href="/assets/index.html.0862963f.js"><link rel="prefetch" href="/assets/index.html.b5ae5264.js"><link rel="prefetch" href="/assets/index.html.1d18879a.js"><link rel="prefetch" href="/assets/index.html.27d906f4.js"><link rel="prefetch" href="/assets/index.html.6fac0c1c.js"><link rel="prefetch" href="/assets/index.html.a806574a.js"><link rel="prefetch" href="/assets/index.html.f9a73913.js"><link rel="prefetch" href="/assets/index.html.b4caa22a.js"><link rel="prefetch" href="/assets/index.html.ee42eb9e.js"><link rel="prefetch" href="/assets/index.html.eda44ee4.js"><link rel="prefetch" href="/assets/index.html.4ea8a55e.js"><link rel="prefetch" href="/assets/index.html.17635288.js"><link rel="prefetch" href="/assets/index.html.3dc34a90.js"><link rel="prefetch" href="/assets/index.html.688a3d2f.js"><link rel="prefetch" href="/assets/index.html.c3c97fb8.js"><link rel="prefetch" href="/assets/index.html.7f2e005d.js"><link rel="prefetch" href="/assets/index.html.cf4e8e6f.js"><link rel="prefetch" href="/assets/index.html.483f79b3.js"><link rel="prefetch" href="/assets/index.html.b1576902.js"><link rel="prefetch" href="/assets/index.html.eee744dc.js"><link rel="prefetch" href="/assets/index.html.0ba09488.js"><link rel="prefetch" href="/assets/index.html.cbf359b6.js"><link rel="prefetch" href="/assets/index.html.ce899d51.js"><link rel="prefetch" href="/assets/index.html.0abd1e84.js"><link rel="prefetch" href="/assets/index.html.b3cffe07.js"><link rel="prefetch" href="/assets/index.html.1120e290.js"><link rel="prefetch" href="/assets/index.html.7692f0ca.js"><link rel="prefetch" href="/assets/index.html.d8ef7a79.js"><link rel="prefetch" href="/assets/index.html.5271e37f.js"><link rel="prefetch" href="/assets/index.html.3978d43a.js"><link rel="prefetch" href="/assets/index.html.302b1249.js"><link rel="prefetch" href="/assets/index.html.81a9293a.js"><link rel="prefetch" href="/assets/index.html.cbbbc4d5.js"><link rel="prefetch" href="/assets/index.html.a12bd29f.js"><link rel="prefetch" href="/assets/index.html.654d6c1b.js"><link rel="prefetch" href="/assets/index.html.e49791eb.js"><link rel="prefetch" href="/assets/index.html.81a9a1b2.js"><link rel="prefetch" href="/assets/index.html.6e88d741.js"><link rel="prefetch" href="/assets/index.html.d3994a5f.js"><link rel="prefetch" href="/assets/index.html.99abfa26.js"><link rel="prefetch" href="/assets/index.html.f3d3df70.js"><link rel="prefetch" href="/assets/index.html.a7a4b498.js"><link rel="prefetch" href="/assets/index.html.10755788.js"><link rel="prefetch" href="/assets/index.html.898c2d07.js"><link rel="prefetch" href="/assets/index.html.72702e97.js"><link rel="prefetch" href="/assets/index.html.5c09af60.js"><link rel="prefetch" href="/assets/index.html.7c4570c5.js"><link rel="prefetch" href="/assets/index.html.f6d3ff56.js"><link rel="prefetch" href="/assets/index.html.f88bc347.js"><link rel="prefetch" href="/assets/index.html.ccd64b02.js"><link rel="prefetch" href="/assets/index.html.6d38200c.js"><link rel="prefetch" href="/assets/blog.html.9feb0760.js"><link rel="prefetch" href="/assets/slide.html.8a7d071b.js"><link rel="prefetch" href="/assets/index.html.e83112b1.js"><link rel="prefetch" href="/assets/update.html.c7022185.js"><link rel="prefetch" href="/assets/index.html.4a1c00e6.js"><link rel="prefetch" href="/assets/index.html.ac3f7403.js"><link rel="prefetch" href="/assets/awesomeTools.html.a27ea823.js"><link rel="prefetch" href="/assets/index.html.68a8efd7.js"><link rel="prefetch" href="/assets/DAD.html.d9a139d1.js"><link rel="prefetch" href="/assets/index.html.cc1760cd.js"><link rel="prefetch" href="/assets/index.html.34223663.js"><link rel="prefetch" href="/assets/Http头部HOST为空Nginx返回400错误.html.81c71fa3.js"><link rel="prefetch" href="/assets/index.html.02299638.js"><link rel="prefetch" href="/assets/f5限制部分源IP访问VS.html.bd345d10.js"><link rel="prefetch" href="/assets/irule_tuxedo.html.fef2a1ff.js"><link rel="prefetch" href="/assets/Http头部HOST为空Nginx返回400错误.html.743175ea.js"><link rel="prefetch" href="/assets/index.html.13babee8.js"><link rel="prefetch" href="/assets/f5限制部分源IP访问VS.html.0770e4ff.js"><link rel="prefetch" href="/assets/opticalFiber.html.85a31fbb.js"><link rel="prefetch" href="/assets/index.html.115beca9.js"><link rel="prefetch" href="/assets/config.html.2223e854.js"><link rel="prefetch" href="/assets/index.html.1884d3ff.js"><link rel="prefetch" href="/assets/ecs.html.da41ea8e.js"><link rel="prefetch" href="/assets/multiDnsServer.html.d17dc5a8.js"><link rel="prefetch" href="/assets/浏览器DNS缓存.html.e29d0ef6.js"><link rel="prefetch" href="/assets/DNF.html.e9c27b79.js"><link rel="prefetch" href="/assets/index.html.c3cb3138.js"><link rel="prefetch" href="/assets/Shell命令.html.e50203d8.js"><link rel="prefetch" href="/assets/YUM.html.1c9b71b1.js"><link rel="prefetch" href="/assets/archive.html.237c6d70.js"><link rel="prefetch" href="/assets/filePermissions.html.b984f1c2.js"><link rel="prefetch" href="/assets/fileSearch.html.93bbfc23.js"><link rel="prefetch" href="/assets/fileSystem.html.d11bfcf5.js"><link rel="prefetch" href="/assets/fileTypes.html.b487bb2b.js"><link rel="prefetch" href="/assets/mirros.Tsinghua.html.82f432d4.js"><link rel="prefetch" href="/assets/nic.html.9d64f1b9.js"><link rel="prefetch" href="/assets/ssh_sftp.html.490e3067.js"><link rel="prefetch" href="/assets/vim.html.0a05956a.js"><link rel="prefetch" href="/assets/免密登录.html.bc1794e8.js"><link rel="prefetch" href="/assets/重置root密码.html.605ec7d1.js"><link rel="prefetch" href="/assets/index.html.cfc48a76.js"><link rel="prefetch" href="/assets/Windows10本地硬盘变成了可弹出磁盘.html.a64df2f5.js"><link rel="prefetch" href="/assets/index.html.ab548a5c.js"><link rel="prefetch" href="/assets/shell.html.e5186351.js"><link rel="prefetch" href="/assets/一文掌握 Ansible 自动化运维.html.559203a5.js"><link rel="prefetch" href="/assets/index.html.e1afaaf6.js"><link rel="prefetch" href="/assets/Traefik使用教程.html.6ea0312e.js"><link rel="prefetch" href="/assets/awesomeDocker.html.d1af6c06.js"><link rel="prefetch" href="/assets/dockerImageExportAndImport.html.a72b0a63.js"><link rel="prefetch" href="/assets/whatIsDocker.html.a07253e1.js"><link rel="prefetch" href="/assets/index.html.f8c42020.js"><link rel="prefetch" href="/assets/git_cmd中文乱码.html.6119d824.js"><link rel="prefetch" href="/assets/git上传文件.html.049ef223.js"><link rel="prefetch" href="/assets/git修改远程仓库.html.85637b83.js"><link rel="prefetch" href="/assets/git报ssl错误解决方法.html.1b220559.js"><link rel="prefetch" href="/assets/git的配置文件.html.b64c488d.js"><link rel="prefetch" href="/assets/index.html.2756b653.js"><link rel="prefetch" href="/assets/index.html.888e7aa2.js"><link rel="prefetch" href="/assets/index.html.7117c3f2.js"><link rel="prefetch" href="/assets/index.html.cecef9dd.js"><link rel="prefetch" href="/assets/vPC_Sticky_Master.html.22f95334.js"><link rel="prefetch" href="/assets/vpcAutoRecoveryConfiguration.html.d8e46517.js"><link rel="prefetch" href="/assets/index.html.7f51cd02.js"><link rel="prefetch" href="/assets/aptSource.html.b86b6c1e.js"><link rel="prefetch" href="/assets/modifyNetwork.html.c0e11e68.js"><link rel="prefetch" href="/assets/404.html.13f99aa8.js"><link rel="prefetch" href="/assets/index.html.b3841f6f.js"><link rel="prefetch" href="/assets/index.html.c29f1038.js"><link rel="prefetch" href="/assets/index.html.71af608d.js"><link rel="prefetch" href="/assets/index.html.815b5cd6.js"><link rel="prefetch" href="/assets/index.html.6c636a4d.js"><link rel="prefetch" href="/assets/index.html.3451336d.js"><link rel="prefetch" href="/assets/index.html.2d65f773.js"><link rel="prefetch" href="/assets/index.html.1957caef.js"><link rel="prefetch" href="/assets/index.html.58f35b74.js"><link rel="prefetch" href="/assets/index.html.a415c022.js"><link rel="prefetch" href="/assets/index.html.2f18392d.js"><link rel="prefetch" href="/assets/index.html.887c824c.js"><link rel="prefetch" href="/assets/index.html.218999ad.js"><link rel="prefetch" href="/assets/index.html.b0d6395d.js"><link rel="prefetch" href="/assets/index.html.3a71df39.js"><link rel="prefetch" href="/assets/index.html.29979705.js"><link rel="prefetch" href="/assets/index.html.2af6340e.js"><link rel="prefetch" href="/assets/index.html.413c3f6d.js"><link rel="prefetch" href="/assets/index.html.9ae3173f.js"><link rel="prefetch" href="/assets/index.html.cdb348a2.js"><link rel="prefetch" href="/assets/index.html.45a03078.js"><link rel="prefetch" href="/assets/index.html.872b688b.js"><link rel="prefetch" href="/assets/index.html.23e0bf92.js"><link rel="prefetch" href="/assets/index.html.fd154f88.js"><link rel="prefetch" href="/assets/index.html.dd8c479b.js"><link rel="prefetch" href="/assets/index.html.7707a0bc.js"><link rel="prefetch" href="/assets/index.html.da346d73.js"><link rel="prefetch" href="/assets/index.html.74f8a192.js"><link rel="prefetch" href="/assets/index.html.dbe9bc5a.js"><link rel="prefetch" href="/assets/index.html.2e5b7fbd.js"><link rel="prefetch" href="/assets/index.html.ca3783bd.js"><link rel="prefetch" href="/assets/index.html.971ec6be.js"><link rel="prefetch" href="/assets/index.html.0431fb40.js"><link rel="prefetch" href="/assets/index.html.5d9de716.js"><link rel="prefetch" href="/assets/index.html.d662e19d.js"><link rel="prefetch" href="/assets/index.html.d35965d4.js"><link rel="prefetch" href="/assets/index.html.ee48d747.js"><link rel="prefetch" href="/assets/index.html.87c1aacb.js"><link rel="prefetch" href="/assets/index.html.fc6d79b4.js"><link rel="prefetch" href="/assets/index.html.871f1be7.js"><link rel="prefetch" href="/assets/index.html.8392496a.js"><link rel="prefetch" href="/assets/index.html.3ff00177.js"><link rel="prefetch" href="/assets/index.html.a713edfb.js"><link rel="prefetch" href="/assets/index.html.5ffe5e5f.js"><link rel="prefetch" href="/assets/index.html.a921541b.js"><link rel="prefetch" href="/assets/index.html.8589aedf.js"><link rel="prefetch" href="/assets/index.html.a711e44b.js"><link rel="prefetch" href="/assets/index.html.abc0a158.js"><link rel="prefetch" href="/assets/index.html.b4a03001.js"><link rel="prefetch" href="/assets/index.html.9535106f.js"><link rel="prefetch" href="/assets/index.html.ffb59e10.js"><link rel="prefetch" href="/assets/index.html.e6d9ce9a.js"><link rel="prefetch" href="/assets/index.html.84739800.js"><link rel="prefetch" href="/assets/index.html.7ea801e1.js"><link rel="prefetch" href="/assets/index.html.ddb22b47.js"><link rel="prefetch" href="/assets/index.html.996a625c.js"><link rel="prefetch" href="/assets/index.html.a29da6a7.js"><link rel="prefetch" href="/assets/index.html.c6e61328.js"><link rel="prefetch" href="/assets/index.html.3d7b405f.js"><link rel="prefetch" href="/assets/index.html.eea49a26.js"><link rel="prefetch" href="/assets/index.html.57b2dd5f.js"><link rel="prefetch" href="/assets/index.html.0bf1342a.js"><link rel="prefetch" href="/assets/index.html.74aa4ed3.js"><link rel="prefetch" href="/assets/index.html.fe53a012.js"><link rel="prefetch" href="/assets/index.html.2a6fd269.js"><link rel="prefetch" href="/assets/index.html.58668768.js"><link rel="prefetch" href="/assets/index.html.2d81c347.js"><link rel="prefetch" href="/assets/index.html.f5042c9e.js"><link rel="prefetch" href="/assets/index.html.3644e15f.js"><link rel="prefetch" href="/assets/index.html.8608832d.js"><link rel="prefetch" href="/assets/index.html.8cea0c36.js"><link rel="prefetch" href="/assets/index.html.1db58b0b.js"><link rel="prefetch" href="/assets/index.html.1e1f39bc.js"><link rel="prefetch" href="/assets/index.html.311a3ee6.js"><link rel="prefetch" href="/assets/index.html.33fd205d.js"><link rel="prefetch" href="/assets/404.8cf8d3c3.js"><link rel="prefetch" href="/assets/Layout.048d7b9c.js"><link rel="prefetch" href="/assets/Blog.5458e229.js"><link rel="prefetch" href="/assets/photoswipe.esm.36bdc4a0.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container has-toc"><!--[--><!--[--><header class="navbar"><div class="navbar-left"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><a href="/" class="brand"><img class="logo" src="/logo.svg" alt="紫苹果乐园"><!----><span class="site-name hide-in-pad">紫苹果乐园</span></a><!----></div><div class="navbar-center"><!----><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/" class="nav-link" aria-label="主页"><span class="icon iconfont icon-home"></span>主页<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="操作系统"><span class="title"><span class="icon iconfont icon-OS"></span>操作系统</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/os/linux/" class="nav-link" aria-label="Linux"><span class="icon iconfont icon-linux"></span>Linux<!----></a></li><li class="dropdown-item"><a href="/os/windows/" class="nav-link" aria-label="Windows"><span class="icon iconfont icon-windows"></span>Windows<!----></a></li><li class="dropdown-item"><a href="/os/dns/" class="nav-link" aria-label="DNS"><span class="icon iconfont icon-dns"></span>DNS<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="网络技术"><span class="title"><span class="icon iconfont icon-network"></span>网络技术</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/network/cisco/" class="nav-link" aria-label="Cisco"><span class="icon iconfont icon-cisco"></span>Cisco<!----></a></li><li class="dropdown-item"><a href="/network/f5/" class="nav-link" aria-label="f5"><span class="icon iconfont icon-f5"></span>f5<!----></a></li><li class="dropdown-item"><a href="/network/other/" class="nav-link" aria-label="其他"><span class="icon iconfont icon-other"></span>其他<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="工具"><span class="title"><span class="icon iconfont icon-tool"></span>工具</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/tools/Git/" class="nav-link" aria-label="Git"><span class="icon iconfont icon-git"></span>Git<!----></a></li><li class="dropdown-item"><a href="/tools/Ansible/" class="nav-link active" aria-label="Ansible"><span class="icon iconfont icon-ansible"></span>Ansible<!----></a></li><li class="dropdown-item"><a href="/tools/Travis%20CI/" class="nav-link" aria-label="Travis CI"><span class="icon iconfont icon-travisci"></span>Travis CI<!----></a></li><li class="dropdown-item"><a href="/tools/Docker/" class="nav-link" aria-label="Docker"><span class="icon iconfont icon-docker"></span>Docker<!----></a></li><li class="dropdown-item"><a href="/tools/K8S/" class="nav-link" aria-label="K8S"><span class="icon iconfont icon-kubernetes"></span>K8S<!----></a></li><li class="dropdown-item"><a href="/tools/Vuepress/" class="nav-link" aria-label="Vuepress"><span class="icon iconfont icon-vue"></span>Vuepress<!----></a></li><li class="dropdown-item"><a href="/tools/awesomeTools.html" class="nav-link" aria-label="好用的工具"><span class="icon iconfont icon-tools"></span>好用的工具<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="索引"><span class="title"><span class="icon iconfont icon-tree"></span>索引</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/Category" class="nav-link" aria-label="分类"><span class="icon iconfont icon-categoryselected"></span>分类<!----></a></li><li class="dropdown-item"><a href="/Tag" class="nav-link" aria-label="标签"><span class="icon iconfont icon-tag"></span>标签<!----></a></li><li class="dropdown-item"><a href="/Timeline" class="nav-link" aria-label="时间轴"><span class="icon iconfont icon-time"></span>时间轴<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a href="/blog.html" class="nav-link" aria-label="强大的博客们"><span class="icon iconfont icon-blog"></span>强大的博客们<!----></a></div><div class="nav-item hide-in-mobile"><a href="/about/" class="nav-link" aria-label="关于"><span class="icon iconfont icon-about"></span>关于<!----></a></div></nav><!----></div><div class="navbar-right"><!----><!----><div class="nav-item"><a class="repo-link" href="https://www.github.com/00D2/00d2.github.io" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button class="outlook-button" tabindex="-1" ariahidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="outlook-dropdown"><!----></div></button></div><div id="docsearch-container"></div><!----><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><a href="/tools/Ansible/" class="nav-link sidebar-link sidebar-page" aria-label="Ansible"><span class="icon iconfont icon-ansible"></span>Ansible<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/tools/Ansible/%E4%B8%80%E6%96%87%E6%8E%8C%E6%8F%A1%20Ansible%20%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4.html" class="nav-link sidebar-link sidebar-page" aria-label="一文掌握 Ansible 自动化运维"><span class="icon iconfont icon-ansible"></span>一文掌握 Ansible 自动化运维<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->23 款 DevOps 工具建设云原生时代</h1><div class="page-info"><span class="author-info" aria-label="作者🖊" data-balloon-pos="down" localizeddate="2022年6月5日" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="author-item" href="https://www.jinguo.tk" target="_blank" rel="noopener noreferrer">小苹果儿</a></span><span property="author" content="小苹果儿"></span></span><span class="date-info" aria-label="写作日期📅" data-balloon-pos="down" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span>2022年6月5日</span><meta property="datePublished" content="2022-06-05T03:56:58.000Z"></span><!----><!----><span class="words-info" aria-label="字数🔠" data-balloon-pos="down" localizeddate="2022年6月5日" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon word-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="word icon"><path d="M518.217 432.64V73.143A73.143 73.143 0 01603.43 1.097a512 512 0 01419.474 419.474 73.143 73.143 0 01-72.046 85.212H591.36a73.143 73.143 0 01-73.143-73.143z"></path><path d="M493.714 566.857h340.297a73.143 73.143 0 0173.143 85.577A457.143 457.143 0 11371.566 117.76a73.143 73.143 0 0185.577 73.143v339.383a36.571 36.571 0 0036.571 36.571z"></path></svg><span>约 6025 字</span><meta property="wordCount" content="6025"></span></div><hr></div><!----><!----><div class="theme-hope-content"><h1 id="_23-款-devops-工具建设云原生时代" tabindex="-1"><a class="header-anchor" href="#_23-款-devops-工具建设云原生时代" aria-hidden="true">#</a> 23 款 DevOps 工具建设云原生时代</h1><p>点击关注 👉 [DevOps技术栈](javascript:void(0)😉 <em>2022-04-27 12:00</em> <em>Posted on 河北</em></p><p><img src="http://mmbiz.qpic.cn/mmbiz_png/d5patQGz8KdXgB8Z3xhG45s7qQmoYP94Mc8slSroM7ODL676xiaBEhyh93Yu3icBkzOsLT66KMxfJqoibY9zLKexw/0?wx_fmt=png" alt="img"></p><p><strong>DevOps技术栈</strong></p><p>专注于分享DevOps工具链及经验总结，例如：Docker、K8s、ServiceMesh、Jenkins等技术栈。</p><p>66篇原创内容</p><p>Official Account</p><p>转载：InfoQ公众号</p><p>**作者介绍：**田良智，星汉未来资深技术专家，曾就职于新浪等公司，拥有十多年运维经验，参与过多个运维系统从 0 开始搭建的过程。</p><p>前 言</p><p>今天的中国互联网，正加速从消费互联网向产业互联网转型，数字化变革逐渐渗透到每一个具体产业，弹性算力已变成各行各业的水电煤，从底层驱动产业变革。以区块链、IoT、人工智能、大数据等先进技术为代表，新的云原生基础设施已经就绪并将继续演进，同时也会伴随着与之配套的技术和管理范式的演进。DevOps 作为数字化时代 IT 研发和管理范式，是企业数字化转型重要的组成部分。</p><p>当前互联网组件生态中，DevOps 工具和系统林林总总，令人眼花缭乱。选用与当前企业发展阶段不适配的 DevOps 组件会导致：</p><ul><li>工具能力溢出，大量功能闲置，同时增加使用人员的上手成本；</li><li>工具能力不足或功能过于泛化，无法满足企业研发体量需求或无法灵活定制细节；</li><li>工具本身质量欠佳，后续相应的社区支持或服务保障缺失，导致稳定性风险。</li></ul><p>基于以上问题，<strong>本文致力于为企业提供 DevOps 工程效率和运维环节（后续简称效维）工具说明及全景图，并结合典型中国互联网研发场景，提出适配不同体量和阶段的企业的效维工具链选型</strong>，希望能帮助企业快速满足数字化变革的要求，加速业务发展，引领业务创新。</p><p>DevOps 及工具链概述</p><p>DevOps 是 Development 和 Operations 的组合词。它是一组过程、方法与系统的统称，用于促进开发（应用程序 / 软件工程）、技术运营和质量保障（QA）部门之间的沟通、协作与整合。</p><p><img src="https://mmbiz.qpic.cn/mmbiz_png/YriaiaJPb26VMP9XhKdn4iaQkhUSAdqK0qQUgBMuDGUXhaxLHicibPPmx1nnvkabiaia3xCqjfjRAEtAI68AedY1euHLw/640?wx_fmt=png&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="Image"></p><p>图 1 DevOps 范畴</p><p>它是一种重视“软件开发人员（Dev）”和“IT 运维技术人员（Ops）”之间沟通合作的文化、运动或惯例。透过自动化“软件交付”和“架构变更”的流程，来使得构建、测试、发布软件能够更加地快捷、频繁和可靠，把敏捷开发部门和运维部门之间的围墙打通，形成闭环。</p><p>在 DevOps 流程下，运维人员会在项目开发期间就介入到开发过程中，了解开发人员使用的系统架构和技术路线，从而制定适当的运维方案。而开发人员也会在运维的初期参与到系统部署中，并提供系统部署的优化建议。</p><p>完整的 DevOps 生命周期一般包括以下六个阶段。</p><p><img src="https://mmbiz.qpic.cn/mmbiz_png/YriaiaJPb26VMP9XhKdn4iaQkhUSAdqK0qQSOJmf7LnMppYZF9TAHX7zhciaaiaoPkC1R9K5w2ehlHCs9WqDmKvsGAg/640?wx_fmt=png&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="Image"></p><p>图 2 DevOps 生命周期</p><p>其中集成、部署、监控三个环节属于 DevOps 生命周期中核心环节，是本文主要关注点。贯穿云原生 DevOps 整个生命周期的工具链全景图如下：</p><p><img src="https://mmbiz.qpic.cn/mmbiz_png/YriaiaJPb26VMP9XhKdn4iaQkhUSAdqK0qQicvibD4SElfBp4PP6lefVicPriaEsM2TKzhHsVtX8LpOqIV4bgw0Yp4GWQ/640?wx_fmt=png&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="Image"></p><p>图 3 云原生 DevOps 工具全景图</p><p>持续集成 &amp; 持续部署</p><p>持续集成可以帮助开发人员更加频繁地（有时甚至每天）将代码更改合并到共享分支或“主干&quot;中。一旦开发人员对应用所做的更改被合并，系统就会通过自动构建应用并运行不同级别的自动化测试（通常是单元测试和集成测试）来验证这些更改，确保这些更改没有对应用造成破坏。持续集成的输入是代码，所以一个好的代码托管工具是必不可少的。</p><p>持续部署指的的是自动将开发人员的更改从存储库发布到生产环境，以供客户使用。它主要为了解决因手动流程降低应用交付速度，从而使运维团队超负荷的问题。部署过程中可能还会涉及到平滑迁移新老版本流量的过程，所以对服务发现工具也有一定的依赖。</p><p>要实现持续集成和持续部署，自动化的流水线是基础。本节将从<strong>代码托管工具、集成流水线工具、服务发现工具</strong>三个方面进行工具对比介绍。</p><p>代码托管工具</p><p>在选择代码托管工具的时候，主要关注以下三点：</p><ol><li>可协同：在功能层面要包含仓库管理、分支管理、权限管理、提交管理、代码评审等代码存储和版本管理等功能，让开发者更好的协同工作；</li><li>可集成：好的代码托管服务应该具备灵活和简易的三方工具集成能力，降低 DevOps 的实施落地成本 ;</li><li>安全可靠：这是最重要的一点，对于个人开发者可能无感，但是对于企业而言，代码的安全性、服务的稳定性、数据是否存在丢失的风险，是会最被优先考量的点。</li></ol><p>常用代码托管工具见下表：</p><p><img src="https://mmbiz.qpic.cn/mmbiz_png/YriaiaJPb26VMP9XhKdn4iaQkhUSAdqK0qQGd9kaKU8rZzWxHQribryYQpibFyKTNzobEDedqwqJfiax6n1DjmPibpVVQ/640?wx_fmt=png&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="Image"></p><p>表 1 代码托管工具对照表</p><p>集成流水线工具</p><p>集成流水线就像传统的工业流水线一样，在经历构建、测试、交付之后，生产出一代一代更新迭代的软件版本。实现了软件产品小步迭代、高频发布、适时集成、稳定的系统演进线路图。在选择集成流水线工具的时候，我们需要关注：</p><ol><li>版本控制工具的支持；</li><li>每个构建是否可以支持指定多个代码源 URLS；</li><li>是否支持构建产物管理库，如公有云对象存储等；</li><li>是否支持部署流水线，类似于一个或多个构建完成后触发另一个构建；</li><li>是否支持并行构建；</li><li>是否支持构建网格，以及对网格内机器管理的能力。如能否将多个构建同时分配到多个构建机器上执行，以提高执行速度；</li><li>是否有良好的开放 API，比如触发构建 API、结果查询 API、标准的 Report 接口等；</li><li>账户体系，是否支持第三方账户接入，如企业 LDAP 等；</li><li>是否有良好的 Dashboard；</li><li>多语言支持；</li><li>与构建工具（如 Maven，Make，Rake，Nant、Node 等）和测试工具的集成。</li></ol><p>常用集成流水线工具如下表所示：</p><p><img src="https://mmbiz.qpic.cn/mmbiz_png/YriaiaJPb26VMP9XhKdn4iaQkhUSAdqK0qQFk7WwUfAib0lldvEyicDv2bicTG0LOvtMvkEicAhKTia0xgLgy3KX2xibKXQ/640?wx_fmt=png&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="Image"></p><p>表 2 持续集成&amp;持续部署组件对照表</p><p>服务注册发现工具</p><p>服务发现为 Deploy 的最后环节，缺一不可。无论是四七层负载均衡，还是微服务、RPC 服务框架，服务发现都是产品投产的临门一脚。服务注册发现工具选型需要从生态发展、便利性、语言无关性等角度来综合考量。</p><p>常用的组件工具如下表：</p><p><img src="https://mmbiz.qpic.cn/mmbiz_png/YriaiaJPb26VMP9XhKdn4iaQkhUSAdqK0qQNmufARotk6W44FhL3CxudNIjsOtkiajtJwjWRLduSsBEey7XXUpcbxA/640?wx_fmt=png&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="Image"></p><p>表 3 服务注册组件对照表</p><p>持续监控</p><p>服务的稳定性离不开监控系统的保驾护航。监控系统为服务稳定运行提供数据可视化、异常报警、异常定位、故障追踪等能力；同时监控系统还为服务持续优化升级提供依据和考量标准。</p><p><strong>监控系统有三大基石：指标、日志、分布式追踪。</strong></p><p><strong>指标体系</strong>：聚焦于故障发现环节，服务以数字形式评估出服务 QPS、成功率、延迟、容量等关键指标，搭配报警系统可以保证当核心指标异常时及时通知开发 / 运维人员。除了核心指标外，服务还可以将各模块 / 阶段的瓶颈点、外部依赖指标量化，建立更加完善服务状态概览，以便服务开发 / 运维人员快速定位异常，完成根因分析。指标系统优势是聚合能力，用较少的存储资源和计算资源表达系统内部状态。</p><p>常用工具及功能对照如下：</p><p><img src="https://mmbiz.qpic.cn/mmbiz_png/YriaiaJPb26VMP9XhKdn4iaQkhUSAdqK0qQMVJriaKag2GddfpgficLiaBd2aSSYlQZfNg2FvuUbEQwO8cw9aaoUoiblg/640?wx_fmt=png&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="Image"></p><p>表 4 指标组件对照表格</p><p><strong>日志系统</strong>：用于记录服务内发生的各类事件。日志系统聚焦故障定位环节，与指标系统相比，日志系统具有更强的描述性，但也伴随着更大的存储空间和计算存储资源要求。日志是常用的监控方法，比如在具有外部依赖系统的服务中，一般会将外部系统发生的错误和错误原因以日志形式记录下来，以便在故障定位和复盘时恢复异常现场环境。常用方案为 ELK（Elasticsearch、Logstash 和 Kibana ）。</p><p><strong>分布式追踪系统</strong>：用于分析服务调用关系。在微服务盛行的今天，服务之间调用关系越来越复杂，微服务之间相互影响也更加难以定位和排查。分布式追踪系统聚焦于故障定位环节，与指标体系和日志体系不同，分布式追踪系统可以提供服务之间依赖拓扑信息，对于梳理系统调用拓扑、追踪下游依赖导致的异常意义重大。</p><p>常用工具及功能对照如下：</p><p><img src="https://mmbiz.qpic.cn/mmbiz_png/YriaiaJPb26VMP9XhKdn4iaQkhUSAdqK0qQnHHL29xH5Apfiat6siaXOx2UCxQ0zc1vVYa6GQ9Nk0gbsWv8ORA0uicew/640?wx_fmt=png&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="Image"></p><p>表 5 分布式追踪组件对照表</p><p>企业评估模型</p><p>DevOps 成熟度</p><p><strong>DevOps 成熟度是评估效维工具选择的首要参考维度</strong>。不同企业 DevOps 发展阶段不一，为了更好地选择适配企业实际情况的效维工具，我们需要从多维度进行评估：</p><ul><li><strong>组织与文化</strong>：DevOps 需要文化与组织的变革，包括研发与运维、IT 与业务之间的隔阂及部门墙的打破。组织支持 DevOps 的力度，以及现阶段文化与 DevOps 的匹配程度是这个维度的关键。</li><li><strong>敏捷开发</strong>：DevOps 是敏捷开发理念的更科学的实践体系，因此前期敏捷做得好不好直接影响到 DevOps 的效果，两者是相辅相成的。</li><li><strong>CI/CD</strong>：CI/CD 不仅仅是工具或流程，更是一种方法论，“持续&quot;是其核心。CI/CD 管控从代码提交那一刻到代码运行在生产环境的整个过程。</li><li><strong>可视化与自动化</strong>：可视化是让 DevOps 人性化的重要一环，通过良好的可视化看板，可以快速发现 DevOps 流程中的阻塞点和风险点。自动化一方面是为了更快推动价值流从左向右流动，另一方面也为了将人为失误的风险降到最低。</li><li><strong>运维监控与预警</strong>：开发与运维紧密合作，甚至是一个团队，对于运维的监控和预警对所有相关方可见。</li><li><strong>持续度量与改进</strong>：DevOps 的效果也是需要度量的，“如果你无法度量它，你就无法改进它”。DevOps 提倡更频繁的直面问题，度量则是一种很好的方式帮助我们发现问题，并持续改进。</li></ul><p>几乎没有尝试任何 DevOps 实践，或只做了一些基础的 DevOps 工作的企业，适合选取更低门槛甚至是一站式的工具，功能可以比较单一，但主要注重价值流的流转效率。而对于能成熟运用各种 DevOps 实践的企业，适合根据自己的实际需求选取特定环节的组件，并根据团队和组织情况进行修改或定制。</p><p>研发团队规模</p><p>效维团队的人员规模，也会影响 CI/CD 及监控工具链的选择。<strong>我们把 20 人以下的效维团队定义为中小团队，20 至百人以上定义为大型团队</strong>。正常来说，效维团队的规模也同比研发团队的规模。对于中小团队来说，选择学习曲线低、能快速搭建且有较完备社区或官方服务提供后续支持的工具为主，容忍功能相对单一。大型团队因为有较充足的人力及技术实力，有条件选用有一定上手成本，但功能全面且支持深度定制甚至重构的工具。</p><p>质量与稳定性要求</p><p>业务对运维服务质量的要求，也深度影响效维工具链的选择和搭建。比如金融业务，对稳定性和精确性有极高的要求，并且面临外部强合规性的监管，效维质量要求较高。而其它类似推荐的业务，即使出现问题也只是降低客户体验，比如展现相关度不高的商品或新闻，整体并不造成灾难性的后果，效维质量就相对要求不高。</p><p>针对于效维质量要求较高的项目，工具链的选择倾向于功能覆盖率较全，有大厂背书或业界口碑，历史 bug 率不高的工具，整个的效维流程的时延以及效率相对较重。针对要求较低的项目，工具链的选择倾向于能快速搭建，能覆盖基本功能的工具链条。</p><p>服务治理标准化程度</p><p>企业的服务治理标准化程度也会影响效维工具链的选择。服务治理标准化包括硬件的标准化、OS 的标准化、语言栈的标准化、通信协议的标准化、框架的标准化等。标准化程度较高的企业，效维工具功能可以相对比较聚焦，不需要覆盖各层级多种标准导致的技术复杂度。标准化程度较低的企业，效维工具的体系和结构会比较庞杂，甚至在有些链路环节无法做到完全统一和自动化，需要效维人员深度参与修改与定制。</p><p>典型企业型态效维工具链推荐</p><p>结合以上的评估维度，我们认为典型的公司型态包括以下三种：</p><p><img src="https://mmbiz.qpic.cn/mmbiz_png/YriaiaJPb26VMP9XhKdn4iaQkhUSAdqK0qQeKWQEo2vETo0Hk9dHrCCSmVLuiaYVNP060yCwzT9pskCOAF18fBicZHQ/640?wx_fmt=png&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="Image"></p><p>初创型小微公司</p><p>创业型企业一般选择此种模型，此时公司以快速迭代服务、提升开发效率为第一个原则，运维能力有限。</p><p>这种模型推荐使用如下方式搭建 DevOps 工具链：</p><p><img src="https://mmbiz.qpic.cn/mmbiz_jpg/YriaiaJPb26VMP9XhKdn4iaQkhUSAdqK0qQuZJzCtfLogNeCJCXicib4VfF6qGiavfuiagogDLV1jaazVN6YxV6FvEDVA/640?wx_fmt=jpeg&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="Image"></p><p>图 4 建议工具链</p><p>如上图所示：</p><ul><li><p>推荐使用 GitLab 代码管理，GitLab 是企业级的开源代码托管软件、生态成熟、稳定、社区庞大、使用简单。DevOps 代码托管流程描述如下：</p><p>1.Zadig 完成 CI/CD 流程，提供开发 / 运维友好的 Web UI；</p><p>2.构建服务镜像，将镜像推送到 Harbor，完成镜像和服务版本管理；</p><p>3.将服务部署于 Kubernetes，完成服务升级。</p></li><li><p>推荐使用 Kubernetes 服务部署，Kubernetes 是 Google 开源的服务部署平台，它具有开源、高效、稳定、社区庞大的优点。目前 Kubernetes 已经成为了云原生的标准服务部署平台，它大大减少了运维人员工作负担。在团队人数较少时采用 Kubernetes，不仅节省人力、服务部署升级效率高，还具有强大的系统可扩展性。采用 Kubernetes 部署服务流程描述如下：</p><p>1.使用 Kubernetes Deployment，YAML/Helm chart 部署服务；</p><p>2.使用 Kubernetes NodePort Service 进行服务发现，这种方式简单又高效；</p><p>3.通过 Nginx 暴露服务，Nginx 挂载 NodePort Service 后端地址。</p><p>4.Kubernetes 可以使用 BridgX 搭建，BridgX 支持管理公有云和私有云计算资源，基于 BridgX 搭建的运维系统可扩展性更高；</p><p>5.使用公有云计算资源底座，成本低，运维难度低。</p></li><li><p>推荐使用 CudgX + Grafana 搭建监控系统</p><p>1.使用 CudgX 建立指标体系，CudgX 是源代码开放的智能诊断平台，具有高可用、高性能、服务负载评估、服务冗余度保持等功能特点，采用 CudgX 存储核心指标为服务自动扩缩容提供更高的可扩展性，同时 CudgX 兼容 Prometheus 生态，已有基于 Prometheus 的监控系统可以平滑迁移到 CudgX 系统。</p><p>2.Grafana 是目前最为流行的监控视图软件，并提供了简单易用的报警功能，团队规模较小时采用，既不会浪费太多运维时间，又能保证服务质量，还可以保证系统的可扩展性。</p></li></ul><p>采用此种监控方案总结如下：</p><ul><li>使用 CudgX 业务打点，同时也能使用 Prometheus + CudgX 的组合；</li><li>基于 Grafana 搭建视图和报警功能。</li></ul><p>中型腰部公司</p><p>此模型适合于业务稳定性要求较高的企业，此时企业一般有稳定的服务和客户群体，服务质量至关重要，需要完善的 DevOps 流程保障服务更新 / 发布过程中稳定性要求，并满足提高开发效率的诉求。</p><p>此时推荐使用如下所示的方式搭建 DevOps 工具链：</p><p><img src="https://mmbiz.qpic.cn/mmbiz_jpg/YriaiaJPb26VMP9XhKdn4iaQkhUSAdqK0qQV9cbTpH7Gjkoc30fa6icuMUvJuhkw4uDicia52ZWIyPPucicazpMhiagosQ/640?wx_fmt=jpeg&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="Image"></p><p>图 5 建议工具链</p><p>如上图所示：</p><ul><li><p>CI/CD 推荐使用 GitLab ，同时搭配 Zadig 提供易于用户操作的 UI。采用此种代码管理方式流程描述如下：</p><p>1.使用 Zadig 持续集成，Zadig 提供了用户友好的 WebUI，使用 Sonar 完成代码检查，完成单元 /C2C 测试流程，当所有验证通过后触发部署；</p><p>2.构建服务镜像，将镜像推送到 Harbor，完成镜像和服务版本管理；</p><p>3.自动灰度流量到 SchedulX 。</p></li><li><p>推荐使用 SchedulX 服务部署，原因为 SchedulX 具有完善的金丝雀发布功能，同时支持物理机和容器化部署。对于服务质量要求较高，代码发布、服务更新应该有完善的灰度到全量更新流程，并且当核心指标异常时，应该阻断变更，SchedulX 配合 CudgX 可以实现金丝雀发布、变更阻断、动态扩缩容等功能，最大程度上保证服务质量。在服务质量要求较高的场景下，部分服务可能由于网络或者资源隔离的原因，希望将服务部署在独立的物理机中，SchedulX 既支持 Kubernetes 又支持物理机部署。采用 SchedulX 服务部署流程描述如下：</p><p>1.服务更新请求提交至 SchedulX；SchedulX 根据服务部署类型，将服务灰度部署于物理机或者 Kubernetes；</p><p>2.SchedulX 监控核心指标，滚动发布，金丝雀发布，当指标异常时回滚更新操作；</p><p>3.按照服务规模和复杂程度不同，用户可能使用微服务架构，此时服务发现可以基于 Consul ；</p><p>4.向外暴露服务可以通过 Nginx，向内暴露服务可以通过 LVS；</p></li><li><p>推荐使用 CudgX + Nightingale + ELK + Jaeger + Grafana 搭建监控系统。基于 CudgX 建立业务指标体系，具有高可用、高性能、高扩展性的特点，同时搭配 SchedulX 可以完成变更阻断和服务自动扩缩容，大大提供服务稳定性。基于 Nightingale 完成基础指标监控，可以尽早预测 / 捕获宿主机异常，避免或降低异常影响。基于 ELK 完成日志收集，服务异常时快速定位故障环节，降低故障影响。基于 Jaeger 搭建分部署追踪系统，快速定位系统瓶颈点，定位故障服务。基于 Grafana 搭建监控视图和报警，为服务稳定性保驾护航。</p></li></ul><p>基于此方案搭建监控系统总结如下：</p><ul><li>使用 CudgX 完成业务指标打点与指标收集，完成业务指标监控；</li><li>使用 Nightingale 完成基础指标打点与收集，完成物理机基础指标（如 CPU/Memory/ 网卡等）监控；</li><li>使用 ELK 搭建日志系统；</li><li>使用 Jaeger 搭建分布式追踪系统；</li><li>使用 Grafana 搭建视图和报警系统。</li></ul><p>大型头部公司</p><p>此模型企业内各服务和组件都趋于成熟，企业有高稳定性要求的核心服务，有专业的运维团队，需要完善的 DevOps 平台来保障复杂的微服务体系下的服务质量。企业更关注于系统平台化，将各类组件分门别类组合成为系统平台，并搭建 CMDB 管理服务元数据，按组织架构管理服务。</p><p>此模型下平台化成为主题，各组件有独立部门负责平台支持和运维，从微服务、监控平台、服务部署平台三个平台角度看，推荐系统架构如下所示:</p><p><img src="https://mmbiz.qpic.cn/mmbiz_jpg/YriaiaJPb26VMP9XhKdn4iaQkhUSAdqK0qQfY1j18Cib248fibp3JA4wYicmT2iadDHM3R8RyfniafOh8HtKXmlaGbIibdg/640?wx_fmt=jpeg&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="Image"></p><p>图 6 建议工具链</p><p>结 语</p><p>本文针对不同 DevOps 成熟度的企业，量身推荐了持续集成、持续部署以及持续监控的工具集合，希望能帮助广大互联网企业，尤其是中小企业，快速搭建起自己的效能及运维的平台，助力企业快速交付，在日益激烈的行业竞争中收获技术红利。</p><blockquote><p>本文大部分内容来自《星汉未来综合运维解决方案》白皮书，适合各公司收藏以备技术选型时参考，感兴趣的可以点击【阅读原文】链接下载。</p></blockquote><p>- END -</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code> 推荐阅读 
一步步开发CMDB和应用发布系统DevOps项目Kubernetes v1.24发布，Dockershim弃用！
新手必须知道的 Kubernetes 架构Shell分析日志文件，全面解锁新姿势！
大型网站技术架构设计
这篇文章带你全面掌握 Nginx ！
Linux 根分区快满了，这个方法快速定位！
一文搞懂 Kubernetes 网络通信原理
Shell 编程的经典十三问！老司机也会翻车
SRE本质就是一个懂运维的资深开发
Kubernetes 4000节点运维经验分享
从网管到架构师，给你分享这10年的成长感悟
Kubernetes 的高级部署策略，你不一定知道！
9个常用的Shell脚本，面试也常问！
基于Nginx实现灰度发布与AB测试搭建一套完整的企业级 K8s 集群（kubeadm方式）
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>点亮，服务器三年不宕机<img src="https://mmbiz.qpic.cn/mmbiz_gif/wtIePIKFibDaPibPt5PE37xRibz7Fy3WDtFj1UMvmC91LcBw5C8iakNUOlbG1OxGaEARs4qR88BfvqwJVIY88xe6kA/640?wx_fmt=gif&amp;wxfrom=5&amp;wx_lazy=1" alt="Image"></p><p>[Read more](javascript:😉</p><p>People who liked this content also liked</p><p>微服务是什么？</p><p>...</p><p>阮一峰的网络日志</p><p>不喜欢</p><p>不看的原因</p><p>OK</p><ul><li><p>内容质量低</p></li><li></li><li><p>不看此公众号</p></li></ul><p>K8s集群稳定性提升手段</p><p>...</p><p>YP小站</p><p>不喜欢</p><p>不看的原因</p><p>OK</p><ul><li><p>内容质量低</p></li><li></li><li><p>不看此公众号</p></li></ul><p>Kubernetes集群多租户资源管理</p><p>...</p><p>YP小站</p><p>不喜欢</p><p>不看的原因</p><p>OK</p><ul><li><p>内容质量低</p></li><li></li><li><p>不看此公众号</p></li></ul><p><img src="https://mp.weixin.qq.com/mp/qrcode?scene=10000004&amp;size=102&amp;__biz=MzAwNTM5Njk3Mw==&amp;mid=2247507943&amp;idx=1&amp;sn=7e5d5695c3e0e924d787453e2294b16e&amp;send_time=" alt="img"></p><p>Scan to Follow</p></div><!----><footer class="page-meta"><!----><div class="meta-item update-time"><span class="label">上次编辑于: </span><span class="info">2022/6/5 03:56:58</span></div><div class="meta-item contributors"><span class="label">贡献者: </span><!--[--><!--[--><span class="contributor" title="email: shijinguosjg@gmail.com">00D2</span><!--]--><!--]--></div></footer><!----><!----><!----><!--]--></main><!--]--><!----><!--]--></div><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app.96094d91.js" defer></script>
  </body>
</html>
